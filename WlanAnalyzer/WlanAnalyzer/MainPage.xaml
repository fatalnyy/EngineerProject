<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:WlanAnalyzer"
             xmlns:ViewModel="clr-namespace:WlanAnalyzer.ViewModels"
             x:Class="WlanAnalyzer.MainPage"
             Title="WlanAnalyzer ">
    <!--<ContentPage.BindingContext>
        <ViewModel:MainPageViewModel/>
    </ContentPage.BindingContext>-->
    <ContentPage.ToolbarItems>
        <ToolbarItem x:Name="Database" Text="Database" Command="{Binding DatabaseToolbarCommand}"/>
    </ContentPage.ToolbarItems>
    <StackLayout>
        <Label Text="Name"/>
        <Entry Text="{Binding Name}" Placeholder="FullName"/>
        <Label Text="Enter file name"/>
        <Entry Text="{Binding FileName}" Placeholder="e.g. WifiParameters"/>
        <Label Text="{Binding DisplayMessage}"/>
        <Label Text="{Binding NumberOfDetectedAccessPointsText}"/>
        <Button Text="Start Scanning" Command="{Binding StartScanningCommand}"/>
        <Button Text="Clear" Command="{Binding ClearCommand}"/>
        <Button Text="Write to txt file" Command="{Binding WriteToJSONFileCommand}"/>
        <Button Text="Save list to database" Command="{Binding SaveListToDatabaseCommand}"/>
        <Button Text="Save file to database" Command="{Binding SaveFileToDatabaseCommand}"/>
        <ActivityIndicator IsRunning="{Binding IsBusy}"/>
        <ListView x:Name="ScanResults" 
                  ItemsSource="{Binding DetectedWifiNetworks}"
                  SelectedItem="{Binding SelectedWifiNetwork}"
                  SelectionMode="Single"
                  HasUnevenRows="True">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <ViewCell>
                        <StackLayout>
                            <Label Text="{Binding SSID}"/>
                            <Label Text="{Binding BSSID}"/>
                            <Label Text="{Binding Frequency}"/>
                            <Label Text="{Binding Level}"/>
                            <Label Text="{Binding Channel}"/>
                            <Label Text="{Binding TimeStamp}"/>
                            <Button Text="Add" BindingContext="{Binding Source={x:Reference ScanResults}, Path=BindingContext}" Command="{Binding AddSelectedWifiNetworkToDataBaseCommand}"/>
                        </StackLayout>
                    </ViewCell>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </StackLayout>
    

</ContentPage>
